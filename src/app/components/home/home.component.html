<div class="wrapper">
    <section class="searchbar">
        <form>
            <input name='search' [(ngModel)]="search" class="search-input" placeholder="Search Location..." />
            <button (click)="searchClicked()"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                    viewBox="0 0 1664 1664">
                    <path fill="currentColor"
                        d="M1152 704q0-185-131.5-316.5T704 256T387.5 387.5T256 704t131.5 316.5T704 1152t316.5-131.5T1152 704zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124q-143 0-273.5-55.5t-225-150t-150-225T0 704t55.5-273.5t150-225t225-150T704 0t273.5 55.5t225 150t150 225T1408 704q0 220-124 399l343 343q37 37 37 90z" />
                </svg></button>
            <span class="save-location-action" (click)="saveToLocations()">+ Save to "Your Locations"</span>
        </form>
    </section>


    <section *ngIf="data$ | async as data; else loading" class="forcast">
        <div class="forcast-location">
            <img src="assets/icons/location-mark.svg" />
            <div>{{data.city.name}}</div>
        </div>
        <div>{{mainItem.dt * 1000| date: 'EEEE, MMM d'}}</div>
        <div class="forcast-detail">
            <img [src]="toWeatherIcon(mainItem.weather[0].icon)" />
            <div class="temp">{{mainItem.main.temp | number : '1.0-0'}} &deg;</div>
            <div class="description">{{mainItem.weather[0].description}}</div>
        </div>
        <div class="separator"></div>
        <div class="forcast-additional">
            <div *ngFor="let item of additionalItems" class="additional-item">
                <div>{{item.dt | localTime}}:00</div>
                <img [src]="toWeatherIcon(item.weather[0].icon)" />
                <div>{{item.main.temp | number : '1.0-0'}} &deg;</div>
            </div>
        </div>
    </section>

    <ng-template #loading>
        <section class="loader">
            <img src="assets/loader.svg">
            <div>Loading...</div>
        </section>

    </ng-template>

</div>